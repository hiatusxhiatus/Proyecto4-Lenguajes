<!-- app/views/tax_rates/index.html.erb -->
<div class="page-header-widget">
  <div class="page-header-content">
    <h1 class="page-title">Configuración de Tasas de Impuesto</h1>
    <div class="page-header-actions">
      <%= link_to "Nueva Tasa", new_tax_rate_path, class: "btn btn-primary" %>
    </div>
  </div>
</div>

<% if @tax_rates.any? %>
  <div class="table-widget">
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Porcentaje</th>
          <th>Fecha de Creación</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <% @tax_rates.each do |tax_rate| %>
          <tr>
            <td><%= tax_rate.id %></td>
            <td><%= tax_rate.name %></td>
            <td><%= tax_rate.percentage %>%</td>
            <td><%= tax_rate.created_at ? Date.parse(tax_rate.created_at).strftime('%d/%m/%Y') : 'N/A' %></td>
            <td>
              <%= link_to "Editar", edit_tax_rate_path(tax_rate), class: "btn btn-secondary btn-small" %>
              <%= button_to "Eliminar", tax_rate_path(tax_rate), 
                           method: :delete,
                           class: "btn btn-danger btn-small",
                           form: { onsubmit: "return confirm('¿Estás seguro?')" } %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <div class="empty-state-widget">
    <h3 class="empty-state-title">No hay tasas de impuesto configuradas</h3>
  </div>
<% end %>